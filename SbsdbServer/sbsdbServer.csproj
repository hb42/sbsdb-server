<Project Sdk="Microsoft.NET.Sdk.Web">
  <PropertyGroup>
    <VersionPrefix>0.1.0</VersionPrefix>
    <VersionSuffix>alpha.43</VersionSuffix>
    <AssemblyTitle>SBSDB-Server</AssemblyTitle>
    <Description>Web API fuer SBS-Datenbank</Description>
    <Copyright>Copyright (c) 1997-2019 Hartmut Bauer</Copyright>
    <RepositoryType>git</RepositoryType>
    <RepositoryUrl>https://github.com/hb42/sbsdb-server</RepositoryUrl>
    <RootNamespace>hb.SbsdbServer</RootNamespace>
    <Authors>hb42@gmx.de</Authors>
  </PropertyGroup>
  <PropertyGroup>
    <TargetFramework>netcoreapp2.2</TargetFramework>
    <SynchReleaseVersion>false</SynchReleaseVersion>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <OutputPath>bin\Debug\netcoreapp2.2\</OutputPath>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <OutputPath>bin\Release\netcoreapp2.2</OutputPath>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="Lib.AspNetCore.ServerSentEvents" Version="3.2.0" />
    <PackageReference Include="Microsoft.AspNetCore.App" />
    <!--<PackageReference Include="Microsoft.VisualStudio.Web.CodeGeneration.Design" Version="2.2.3" />-->
    <PackageReference Include="MySql.Data" Version="8.0.17" />
    <PackageReference Include="NLog.Web.AspNetCore" Version="4.8.4" />
    <PackageReference Include="Oracle.ManagedDataAccess.Core" Version="2.19.31" />
    <!--    <PackageReference Include="NHibernate" Version="5.2.4" />-->
    <PackageReference Include="Microsoft.AspNetCore.StaticFiles" Version="2.2.0" />
    <PackageReference Include="Pomelo.EntityFrameworkCore.MySql" Version="2.2.0" />
    <PackageReference Include="Oracle.EntityFrameworkCore" Version="2.19.30" />
  </ItemGroup>
  <ItemGroup>
    <Folder Include="config\" />
    <Folder Include="wwwroot" />
  </ItemGroup>
  <ItemGroup>
    <ClientFiles Include="..\..\sbsdb\dist\sbsdb\**\*.*" />
  </ItemGroup>
  <Target Name="CopyCustomContentOnPublish" AfterTargets="Publish">
    <Copy SourceFiles="@(ClientFiles)" DestinationFiles="@(ClientFiles-&gt;'$(PublishDir)\wwwroot\%(RecursiveDir)%(Filename)%(Extension)')" />
  </Target>
  <ItemGroup>
    <ProjectReference Include="..\Common\Common.csproj" />
  </ItemGroup>
  <ProjectExtensions>
    <MonoDevelop>
      <Properties>
        <Policies>
          <DotNetNamingPolicy ResourceNamePolicy="FileFormatDefault" DirectoryNamespaceAssociation="PrefixedHierarchical" />
        </Policies>
      </Properties>
    </MonoDevelop>
  </ProjectExtensions>
  <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
    <Exec Command="powershell -NonInteractive -noprofile -file ./build/prebuild.ps1 -csproj $(ProjectFileName)" />
  </Target>
</Project>